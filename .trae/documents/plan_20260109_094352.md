## 问题分析

用户希望在 SmartForm 组件中添加以下功能：

1. 在 form-item 外侧添加 col 和 row 布局
2. 通过 field 上的 span 属性控制字段宽度
3. 在 form 上可以设置通用的 item span 值
4. item 中的元素默认充满宽度

## 解决方案

### 1. 更新核心类型定义
**文件**：`/Users/apple/Desktop/migu/test/middleUI/smart-ui/src/core/types.ts`

- 为 `FieldConfig` 接口添加 `span` 属性
- 为 `SmartFormProps` 接口添加 `itemSpan` 属性（用于设置通用的 item span 值）

### 2. 修改 Element Plus Form 适配器
**文件**：`/Users/apple/Desktop/migu/test/middleUI/smart-ui/src/adapters/element/Form.vue`

- 在 `<el-form>` 内部添加 `<el-row>` 包裹所有字段
- 为每个 `<el-form-item>` 添加 `<el-col>` 包裹
- 使用 `field.span || formProps.itemSpan` 作为 col 的 span 值
- 确保字段元素默认充满宽度

### 3. 修改 Ant Design Vue Form 适配器
**文件**：`/Users/apple/Desktop/migu/test/middleUI/smart-ui/src/adapters/ant/Form.vue`

- 在 `<a-form>` 内部添加 `<a-row>` 包裹所有字段
- 为每个 `<a-form-item>` 添加 `<a-col>` 包裹
- 使用 `field.span || formProps.itemSpan` 作为 col 的 span 值
- 确保字段元素默认充满宽度

### 4. 修改 SmartForm 组件
**文件**：`/Users/apple/Desktop/migu/test/middleUI/smart-ui/src/components/form/SmartForm.vue`

- 确保 `itemSpan` 属性能够正确传递到适配器组件

## 实现细节

1. **类型定义更新**：
   ```typescript
   // 在 SmartFormProps 中添加
   itemSpan?: number
   
   // 在 FieldConfig 中添加（通过 [key: string]: any 已支持，无需显式添加）
   ```

2. **Element Plus 适配器修改**：
   ```vue
   <el-form v-bind="formProps" class="smart-form-element">
     <el-row :gutter="20">
       <template v-if="fields && fields.length > 0">
         <el-col 
           v-for="field in fields" 
           :key="field.name"
           :span="field.span || formProps.itemSpan || 24"
         >
           <el-form-item
             :label="field.label"
             :prop="field.name"
             :rules="field.rules || (props.rules && props.rules[field.name])"
           >
             <!-- 字段内容 -->
           </el-form-item>
         </el-col>
       </template>
     </el-row>
     <slot></slot>
   </el-form>
   ```

3. **Ant Design Vue 适配器修改**：
   ```vue
   <a-form v-bind="formProps" class="smart-form-ant">
     <a-row :gutter="[20, 20]">
       <template v-if="fields && fields.length > 0">
         <a-col 
           v-for="field in fields" 
           :key="field.name"
           :span="field.span || formProps.itemSpan || 24"
         >
           <a-form-item
             :label="field.label"
             :name="field.name"
             :rules="field.rules || (props.rules && props.rules[field.name])"
           >
             <!-- 字段内容 -->
           </a-form-item>
         </a-col>
       </template>
     </a-row>
     <slot></slot>
   </a-form>
   ```

4. **确保字段元素充满宽度**：
   - 为字段元素添加 `style="width: 100%"`
   - 或使用 CSS 确保字段元素默认充满宽度

## 修复效果

- ✅ 支持在 form-item 外侧添加 col 和 row 布局
- ✅ 支持通过 field 上的 span 属性控制字段宽度
- ✅ 支持在 form 上设置通用的 item span 值
- ✅ item 中的元素默认充满宽度
- ✅ 兼容 Element Plus 和 Ant Design Vue 两个 UI 库

## 验证方法

- 构建项目，确保没有编译错误
- 在 demo 中测试不同 span 值的效果
- 测试 form 上设置通用 span 值的效果
- 测试单个 field 设置 span 值覆盖通用值的效果

通过这些修改，SmartForm 组件将能够支持灵活的网格布局，满足各种表单布局需求。